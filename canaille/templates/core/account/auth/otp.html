{#
The OTP authentication factor template.

Displays the authenticator application management.

:param edited_user: The user being edited.
:type edited_user: :class:`~canaille.core.models.User`
#}
{% extends theme('base.html') %}
{% import 'macro/form.html' as fui %}

{%- block title -%}
    {% if user.user_name == edited_user.user_name %}
        {%- trans %}My profile{% endtrans -%}
    {% else %}
        {%- trans %}User profile edition{% endtrans -%}
    {% endif %}
{%- endblock -%}

{% block submenu %}
    <a class="item" href="{{ url_for('core.account.profile_edition', edited_user=edited_user) }}">
        <i class="id card icon"></i>
        {% trans %}Personal information{% endtrans %}
    </a>
    <a class="item" href="{{ url_for('core.account.profile_settings', edited_user=edited_user) }}">
        <i class="tools icon"></i>
        {% trans %}Account settings{% endtrans %}
    </a>
    <a class="active item" href="{{ url_for('core.account.auth.profile_auth', edited_user=edited_user) }}">
        <i class="shield alternate icon"></i>
        {% trans %}Authentication{% endtrans %}
    </a>
{% endblock %}

{% block content %}
    <div class="ui clearing segment">
        <h2 class="ui center aligned header">
            <div class="content">
                {% trans %}Authenticator application{% endtrans %}
            </div>
        </h2>

        <form method="post" class="ui form info">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

            <div class="ui info message">
                {% trans %}
                    You have configured an authenticator application.
                    If you cannot access this application anymore, you can reset its configuration.
                    After this, you will be able to set up a new authenticator application configuration.
                {% endtrans %}
            </div>
            <div class="ui right aligned container">
                <div class="ui stackable buttons">
                    <button type="submit" class="ui right floated basic negative button confirm" name="action" value="otp-reset-confirm" id="reset-otp" formnovalidate>
                        {% trans %}Reset{% endtrans %}
                    </button>
                </div>
            </div>
        </form>
    </div>
{% endblock %}
